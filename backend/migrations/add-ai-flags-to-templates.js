// Create a new file in backend/migrations/add-ai-flags-to-templates.js

const { DataTypes } = require('sequelize');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    // Add the aiGenerated column
    await queryInterface.addColumn('templates', 'aiGenerated', {
      type: DataTypes.BOOLEAN,
      defaultValue: false,
      comment: 'Whether this template was generated by AI or used fallback'
    });
    
    // Add the usedFallback column
    await queryInterface.addColumn('templates', 'usedFallback', {
      type: DataTypes.BOOLEAN,
      defaultValue: false,
      comment: 'Whether fallback questions were used instead of AI-generated ones'
    });
  },

  down: async (queryInterface, Sequelize) => {
    // Remove the columns
    await queryInterface.removeColumn('templates', 'aiGenerated');
    await queryInterface.removeColumn('templates', 'usedFallback');
  }
};

// Note: To apply this migration, you would typically run a command like:
// npx sequelize-cli db:migrate
// or use a custom migration function in your application startup